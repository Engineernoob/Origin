"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[891],{322:(e,t,s)=>{s.d(t,{E:()=>o});var a=s(5155);s(2115);var r=s(9708),n=s(2085),i=s(1486);let l=(0,n.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:s,asChild:n=!1,...o}=e,d=n?r.DX:"span";return(0,a.jsx)(d,{"data-slot":"badge",className:(0,i.cn)(l({variant:s}),t),...o})}},1081:(e,t,s)=>{s.d(t,{A:()=>c,O:()=>d});var a,r=s(5155),n=s(2115),i=s(9509);let l=(0,n.createContext)(void 0),o="https://origin-backend-misty-shape-4040.fly.dev".replace(/\/$/,"")||(null==(a=i.env.NEXT_PUBLIC_BACKEND_URL)?void 0:a.replace(/\/$/,""))||"http://localhost:8080";function d(e){let{children:t}=e,[s,a]=(0,n.useState)(null),[i,d]=(0,n.useState)(null),[c,u]=(0,n.useState)(!0);(0,n.useEffect)(()=>{let e=localStorage.getItem("auth_token");e?(d(e),m(e)):u(!1)},[]);let m=async e=>{try{let t=await fetch("".concat(o,"/auth/me"),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(t.ok){let e=await t.json();if(e.error)throw Error(e.error);a(e)}else h()}catch(e){console.error("Failed to fetch current user:",e),h()}finally{u(!1)}},h=()=>{localStorage.removeItem("auth_token"),d(null),a(null),u(!1)},x=async()=>{i&&await m(i)};return(0,r.jsx)(l.Provider,{value:{user:s,token:i,isLoading:c,login:e=>{localStorage.setItem("auth_token",e),d(e),u(!0),m(e)},logout:h,refreshUser:x},children:t})}function c(){let e=(0,n.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},1282:(e,t,s)=>{s.d(t,{S:()=>l});var a=s(5155);s(2115);var r=s(6981),n=s(5196),i=s(1486);function l(e){let{className:t,...s}=e;return(0,a.jsx)(r.bL,{"data-slot":"checkbox",className:(0,i.cn)("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...s,children:(0,a.jsx)(r.C1,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,a.jsx)(n.A,{className:"size-3.5"})})})}},1486:(e,t,s)=>{s.d(t,{cn:()=>n});var a=s(2596),r=s(9688);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.QP)((0,a.$)(t))}},1989:(e,t,s)=>{s.d(t,{J:()=>i});var a=s(5155);s(2115);var r=s(968),n=s(1486);function i(e){let{className:t,...s}=e;return(0,a.jsx)(r.b,{"data-slot":"label",className:(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...s})}},2624:(e,t,s)=>{s.d(t,{Header:()=>D});var a,r,n,i=s(5155),l=s(2115),o=s(5695),d=s(4783),c=s(5607),u=s(7924),m=s(9869),h=s(3861),x=s(1007),p=s(9273),f=s(5423),g=s(1081),v=s(5452),b=s(1486);let j=v.bL;v.l9;let w=v.ZL,N=l.forwardRef(function(e,t){let{className:s,...a}=e;return(0,i.jsx)(v.hJ,{ref:t,className:(0,b.cn)("fixed inset-0 z-50 bg-black/50 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out",s),...a})}),y=l.forwardRef(function(e,t){let{className:s,children:a,...r}=e;return(0,i.jsxs)(w,{children:[(0,i.jsx)(N,{}),(0,i.jsx)(v.UC,{ref:t,className:(0,b.cn)("fixed left-1/2 top-1/2 z-50 grid w-full max-w-lg -translate-x-1/2 -translate-y-1/2 gap-4 border bg-white p-6 shadow-lg duration-200","data-[state=open]:animate-in data-[state=closed]:animate-out",s),...r,children:a})]})}),k=l.forwardRef(function(e,t){let{className:s,...a}=e;return(0,i.jsx)("div",{ref:t,className:(0,b.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s),...a})}),A=l.forwardRef(function(e,t){let{className:s,...a}=e;return(0,i.jsx)(v.hE,{ref:t,className:(0,b.cn)("text-lg font-semibold leading-none tracking-tight",s),...a})}),C=l.forwardRef(function(e,t){let{className:s,...a}=e;return(0,i.jsx)(v.VY,{ref:t,className:(0,b.cn)("text-sm text-gray-600",s),...a})});v.bm;var E=s(1989),S=s(5694),R=s(1282),L=s(322),_=s(8883),z=s(2919),$=s(8749),U=s(2657),T=s(9509);function B(e){let{isOpen:t,onClose:s,onAuthSuccess:a,defaultMode:r="signin"}=e,[n,o]=(0,l.useState)(r),[d,u]=(0,l.useState)(""),[m,h]=(0,l.useState)(""),[g,v]=(0,l.useState)(""),[b,w]=(0,l.useState)(""),[N,B]=(0,l.useState)(!1),[M,D]=(0,l.useState)(!1),[O,P]=(0,l.useState)(!1),[F,I]=(0,l.useState)(!1),J=async e=>{e.preventDefault(),I(!0),await new Promise(e=>setTimeout(e,1500));let t={id:"1",name:b||d.split("@")[0],email:d,avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=".concat(d),isCreator:O,isVerified:!1};null==a||a(t),I(!1),s(),u(""),h(""),v(""),w(""),D(!1),P(!1)};return(0,i.jsx)(j,{open:t,onOpenChange:s,children:(0,i.jsxs)(y,{className:"sm:max-w-sm max-w-[380px] p-4 sm:p-5 rounded-xl",children:[(0,i.jsxs)(k,{className:"text-center space-y-1",children:[(0,i.jsx)("div",{className:"mx-auto mb-1 flex h-9 w-9 items-center justify-center rounded-md origin-gradient rebel-glow",children:(0,i.jsx)(c.A,{className:"h-5 w-5 text-white"})}),(0,i.jsx)(A,{className:"text-lg",children:"signin"===n?"Welcome back, Rebel":"Join the Rebellion"}),(0,i.jsx)(C,{className:"text-xs",children:"signin"===n?"Sign in to your ad-free video experience":"Create your account and fight against corporate control"})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)(p.$,{type:"button",onClick:()=>{var e,t,s,a;let r=null!=(a=null!=(s=null!==(t="http://localhost:3000".replace(/\/$/,""))&&void 0!==t?t:null==(e=T.env.NEXT_PUBLIC_BACKEND_URL)?void 0:e.replace(/\/$/,""))?s:"https://origin-backend-misty-shape-4040.fly.dev".replace(/\/$/,""))?a:"https://originvideo.duckdns.org";window.location.href="".concat(r,"/auth/google")},className:"h-9 w-full justify-center gap-2 rounded-lg bg-[#e11d48] text-white shadow-[0_8px_20px_-6px_rgba(225,29,72,0.5)] hover:bg-[#be123c]",children:[(0,i.jsxs)("svg",{"aria-hidden":"true",focusable:"false",width:"16",height:"16",viewBox:"0 0 18 18",children:[(0,i.jsx)("path",{fill:"#fff",d:"M17.64 9.2c0-.63-.06-1.25-.18-1.84H9v3.48h4.84a4.14 4.14 0 0 1-1.8 2.72v2.26h2.9c1.7-1.56 2.7-3.86 2.7-6.62z"}),(0,i.jsx)("path",{fill:"#fff",fillOpacity:".7",d:"M9 18c2.43 0 4.47-.8 5.96-2.18l-2.9-2.26c-.8.54-1.84.86-3.06.86-2.35 0-4.35-1.58-5.06-3.7H.94v2.32A9 9 0 0 0 9 18z"}),(0,i.jsx)("path",{fill:"#fff",fillOpacity:".7",d:"M3.94 10.72A5.4 5.4 0 0 1 3.64 9c0-.6.1-1.18.3-1.72V4.96H.94A9 9 0 0 0 0 9c0 1.45.35 2.82.94 4.04l2.99-2.32z"}),(0,i.jsx)("path",{fill:"#fff",fillOpacity:".7",d:"M9 3.56c1.32 0 2.5.46 3.42 1.36l2.56-2.56A9 9 0 0 0 9 0 9 9 0 0 0 .94 4.96l3 2.32C4.65 5.16 6.65 3.56 9 3.56z"})]}),"Continue with Google"]}),(0,i.jsxs)("div",{className:"flex items-center gap-2 py-2",children:[(0,i.jsx)(S.w,{className:"flex-1"}),(0,i.jsx)("span",{className:"text-[11px] text-muted-foreground",children:"or"}),(0,i.jsx)(S.w,{className:"flex-1"})]})]}),(0,i.jsxs)("form",{onSubmit:J,className:"space-y-3",children:["signup"===n&&(0,i.jsxs)("div",{className:"space-y-1.5",children:[(0,i.jsx)(E.J,{htmlFor:"username",className:"text-xs",children:"Username"}),(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)(x.A,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,i.jsx)(f.p,{id:"username",type:"text",placeholder:"Choose your rebel name",value:b,onChange:e=>w(e.target.value),className:"h-9 pl-10",required:!0})]})]}),(0,i.jsxs)("div",{className:"space-y-1.5",children:[(0,i.jsx)(E.J,{htmlFor:"email",className:"text-xs",children:"Email"}),(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)(_.A,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,i.jsx)(f.p,{id:"email",type:"email",placeholder:"your@email.com",value:d,onChange:e=>u(e.target.value),className:"h-9 pl-10",required:!0})]})]}),(0,i.jsxs)("div",{className:"space-y-1.5",children:[(0,i.jsx)(E.J,{htmlFor:"password",className:"text-xs",children:"Password"}),(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)(z.A,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,i.jsx)(f.p,{id:"password",type:N?"text":"password",placeholder:"••••••••",value:m,onChange:e=>h(e.target.value),className:"h-9 pl-10 pr-10",required:!0}),(0,i.jsx)("button",{type:"button",onClick:()=>B(!N),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground","aria-label":N?"Hide password":"Show password",children:N?(0,i.jsx)($.A,{className:"h-4 w-4"}):(0,i.jsx)(U.A,{className:"h-4 w-4"})})]})]}),"signup"===n&&(0,i.jsxs)("div",{className:"space-y-1.5",children:[(0,i.jsx)(E.J,{htmlFor:"confirmPassword",className:"text-xs",children:"Confirm Password"}),(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)(z.A,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,i.jsx)(f.p,{id:"confirmPassword",type:N?"text":"password",placeholder:"••••••••",value:g,onChange:e=>v(e.target.value),className:"h-9 pl-10",required:!0})]})]}),"signup"===n&&(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsxs)("div",{className:"flex items-start gap-2",children:[(0,i.jsx)(R.S,{id:"terms",checked:M,onCheckedChange:e=>D(e)}),(0,i.jsxs)(E.J,{htmlFor:"terms",className:"text-xs leading-5",children:["I agree to the"," ",(0,i.jsx)("button",{type:"button",className:"text-destructive underline",children:"Terms of Service"})," ","and"," ",(0,i.jsx)("button",{type:"button",className:"text-destructive underline",children:"Privacy Policy"})]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2 rounded-lg border border-destructive/20 bg-destructive/5 p-2.5",children:[(0,i.jsx)(R.S,{id:"rebellion",checked:O,onCheckedChange:e=>P(e)}),(0,i.jsxs)(E.J,{htmlFor:"rebellion",className:"flex items-center gap-2 text-xs",children:[(0,i.jsx)("span",{children:"Join as a Creator and fight the system"}),(0,i.jsx)(L.E,{variant:"destructive",className:"px-1.5 py-0 text-[10px]",children:"REBEL"})]})]})]}),(0,i.jsx)(p.$,{type:"submit",className:"h-9 w-full origin-gradient text-sm",disabled:F||"signup"===n&&!M,children:F?"Loading...":"signin"===n?"Sign In":"Join the Rebellion"}),(0,i.jsx)(S.w,{}),(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("p",{className:"text-xs text-muted-foreground",children:"signin"===n?"Don't have an account?":"Already have an account?"}),(0,i.jsx)(p.$,{variant:"link",onClick:()=>{o("signin"===n?"signup":"signin"),h(""),v(""),w("")},className:"h-auto p-0 text-sm",children:"signin"===n?"Join the Rebellion":"Sign In"})]})]}),"signup"===n&&(0,i.jsxs)("div",{className:"mt-3 rounded-lg bg-muted/60 p-3",children:[(0,i.jsxs)("h4",{className:"mb-1.5 flex items-center gap-2 text-sm font-medium",children:[(0,i.jsx)(c.A,{className:"h-4 w-4 text-destructive"}),"Why Origin?"]}),(0,i.jsxs)("ul",{className:"space-y-1 text-xs text-muted-foreground",children:[(0,i.jsx)("li",{children:"• 100% ad-free experience"}),(0,i.jsx)("li",{children:"• Creator-first revenue sharing"}),(0,i.jsx)("li",{children:"• No corporate censorship"}),(0,i.jsx)("li",{children:"• Community-driven moderation"})]})]})]})})}null!=(n=null!==(r="http://localhost:3000".replace(/\/$/,""))&&void 0!==r?r:null==(a=T.env.NEXT_PUBLIC_BACKEND_URL)?void 0:a.replace(/\/$/,""))||"https://origin-backend-misty-shape-4040.fly.dev".replace(/\/$/,"");var M=s(6671);function D(e){let{onMenuClick:t,menuBtnRef:s}=e,a=(0,o.useRouter)(),{user:r,logout:n}=(0,g.A)(),[v,b]=(0,l.useState)(""),[j,w]=(0,l.useState)(!1),[N,y]=(0,l.useState)(!1),[k,A]=(0,l.useState)(!1);return(0,i.jsxs)("header",{className:"sticky top-0 z-50 w-full border-b bg-white",children:[(0,i.jsxs)("div",{className:"mx-auto flex h-[64px] max-w-[1280px] items-center gap-3 px-4",children:[(0,i.jsx)(p.$,{ref:s,variant:"ghost",size:"icon",className:"shrink-0 rounded-md","aria-label":"Open menu",onClick:t,children:(0,i.jsx)(d.A,{className:"h-5 w-5"})}),(0,i.jsxs)("div",{className:"flex select-none items-center gap-2",children:[(0,i.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-md bg-gradient-to-b from-[#ef4444] to-[#b91c1c] shadow-[0_4px_16px_-4px_rgba(239,68,68,0.45)]",children:(0,i.jsx)(c.A,{className:"h-5 w-5 text-white"})}),(0,i.jsx)("span",{className:"font-semibold leading-none text-[20px] tracking-[-0.01em]",children:"Origin"}),(0,i.jsx)("span",{className:"ml-1 rounded-md bg-neutral-900 px-2 py-[2px] text-[10px] font-semibold leading-none text-white",children:"AD-FREE"})]}),(0,i.jsx)("form",{onSubmit:function(e){e.preventDefault();let t=v.trim();t&&a.push("/search?q=".concat(encodeURIComponent(t)))},className:"mx-3 flex min-w-0 flex-1 items-center",children:(0,i.jsxs)("div",{className:"flex w-full items-center rounded-xl border border-gray-200 bg-white pl-3 pr-1 shadow-sm focus-within:border-[#e11d48] focus-within:ring-4 focus-within:ring-[#e11d48]/10",children:[(0,i.jsx)(f.p,{value:v,onChange:e=>b(e.target.value),placeholder:"Search videos, creators, rebel content...",className:"h-12 flex-1 border-0 bg-transparent p-0 text-[14px] placeholder:text-neutral-400 focus-visible:ring-0","aria-label":"Search"}),(0,i.jsx)("button",{type:"button",onClick:()=>w(e=>!e),className:"rounded-md px-3 py-1 text-[13px] text-neutral-600 hover:bg-neutral-50","aria-expanded":j,"aria-controls":"advanced-search",children:"Advanced"}),(0,i.jsx)(p.$,{type:"submit",variant:"outline",size:"icon",className:"h-12 w-12 rounded-[10px] border-l border-neutral-200 bg-white hover:bg-neutral-50","aria-label":"Run search",children:(0,i.jsx)(u.A,{className:"h-4 w-4"})})]})}),r?(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsxs)(p.$,{variant:"ghost",className:"hidden sm:flex h-10 rounded-lg px-3",children:[(0,i.jsx)(m.A,{className:"mr-2 h-4 w-4"}),"Upload"]}),(0,i.jsxs)(p.$,{variant:"ghost",className:"relative h-10 w-10 rounded-lg","aria-label":"Notifications",children:[(0,i.jsx)(h.A,{className:"h-5 w-5"}),(0,i.jsx)("span",{className:"absolute -right-1 -top-1 h-3 w-3 rounded-full bg-[#e11d48]"})]}),(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[r.picture&&(0,i.jsx)("img",{src:r.picture,alt:r.name,className:"h-8 w-8 rounded-full"}),(0,i.jsx)("span",{className:"text-sm font-medium hidden sm:block",children:r.name})]}),(0,i.jsxs)(p.$,{variant:"outline",className:"h-10 rounded-lg border-neutral-300 bg-white px-3 text-[14px] hover:bg-neutral-50",onClick:()=>{n(),M.oR.success("Signed out")},children:[(0,i.jsx)(x.A,{className:"mr-2 h-4 w-4"}),"Sign out"]})]}):(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(p.$,{variant:"outline",className:"h-10 rounded-lg border border-neutral-300 bg-white px-4 text-[14px] hover:bg-neutral-50",onClick:()=>y(!0),children:"Sign in"}),(0,i.jsx)(p.$,{className:"h-10 rounded-lg bg-[#e11d48] px-4 text-[14px] text-white shadow-[0_8px_20px_-6px_rgba(225,29,72,0.5)] hover:bg-[#be123c]",onClick:()=>A(!0),children:"Join the Rebellion"})]})]}),j&&(0,i.jsx)("div",{className:"mx-auto w-full max-w-[1280px] px-4",id:"advanced-search",children:(0,i.jsx)("div",{className:"mt-2 rounded-xl border border-neutral-200 bg-white p-4 shadow-md",children:(0,i.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"mb-1 block text-[13px] text-neutral-600",children:"Duration"}),(0,i.jsxs)("select",{className:"w-full rounded-lg border border-neutral-300 p-2 text-[14px]",children:[(0,i.jsx)("option",{children:"Any duration"}),(0,i.jsx)("option",{children:"Under 4 minutes"}),(0,i.jsx)("option",{children:"4–20 minutes"}),(0,i.jsx)("option",{children:"Over 20 minutes"})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"mb-1 block text-[13px] text-neutral-600",children:"Upload time"}),(0,i.jsxs)("select",{className:"w-full rounded-lg border border-neutral-300 p-2 text-[14px]",children:[(0,i.jsx)("option",{children:"Any time"}),(0,i.jsx)("option",{children:"Last hour"}),(0,i.jsx)("option",{children:"Last 24 hours"}),(0,i.jsx)("option",{children:"This week"}),(0,i.jsx)("option",{children:"This month"}),(0,i.jsx)("option",{children:"This year"})]})]}),(0,i.jsxs)("label",{className:"mt-6 flex items-center gap-2 text-[14px]",children:[(0,i.jsx)("input",{type:"checkbox",className:"rounded"}),(0,i.jsxs)("span",{children:[(0,i.jsx)("span",{className:"font-medium text-[#e11d48]",children:"REBEL"})," ","content only"]})]})]})})}),(0,i.jsx)(B,{isOpen:N,onClose:()=>y(!1),defaultMode:"signin",onAuthSuccess:()=>{M.oR.success("Signed in")}}),(0,i.jsx)(B,{isOpen:k,onClose:()=>A(!1),defaultMode:"signup",onAuthSuccess:()=>{M.oR.success("Welcome to the rebellion")}})]})}},3622:(e,t,s)=>{s.d(t,{BK:()=>l,eu:()=>i,q5:()=>o});var a=s(5155);s(2115);var r=s(4011),n=s(1486);function i(e){let{className:t,...s}=e;return(0,a.jsx)(r.bL,{"data-slot":"avatar",className:(0,n.cn)("relative flex size-10 shrink-0 overflow-hidden rounded-full",t),...s})}function l(e){let{className:t,...s}=e;return(0,a.jsx)(r._V,{"data-slot":"avatar-image",className:(0,n.cn)("aspect-square size-full",t),...s})}function o(e){let{className:t,...s}=e;return(0,a.jsx)(r.H4,{"data-slot":"avatar-fallback",className:(0,n.cn)("bg-muted flex size-full items-center justify-center rounded-full",t),...s})}},3929:(e,t,s)=>{s.d(t,{VideoGrid:()=>L});var a,r,n=s(5155),i=s(2115),l=s(5695),o=s(3622),d=s(322),c=s(9273),u=s(6010),m=s(5607),h=s(4020),x=s(4616),p=s(6683),f=s(4186),g=s(2657),v=s(333),b=s(1366);function j(e){let{id:t,title:s,thumbnail:a,creator:r,views:j,uploadTime:w,duration:N,isRebelContent:y=!1,isBannedElsewhere:k=!1,likes:A=0,comments:C=0,tags:E=[],onClick:S,onCreatorClick:R,onAddToPlaylist:L,onShare:_}=e,[z,$]=(0,i.useState)(!1),U=(0,l.useRouter)();return(0,n.jsxs)("div",{className:"bg-white rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-all duration-200 cursor-pointer group",onMouseEnter:()=>$(!0),onMouseLeave:()=>$(!1),children:[(0,n.jsxs)("div",{className:"relative aspect-video overflow-hidden bg-muted",onClick:S,children:[(0,n.jsx)("img",{src:a,alt:s,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200"}),(0,n.jsx)("div",{className:"absolute bottom-2 right-2 bg-black/80 text-white text-xs px-2 py-1 rounded",children:N}),(0,n.jsxs)("div",{className:"absolute top-2 left-2 flex flex-col gap-1",children:[y&&(0,n.jsxs)(d.E,{variant:"destructive",className:"text-xs rebel-glow",children:[(0,n.jsx)(m.A,{className:"h-3 w-3 mr-1"}),"REBEL"]}),k&&(0,n.jsx)(d.E,{variant:"secondary",className:"text-xs bg-yellow-500 text-black",children:"BANNED ELSEWHERE"})]}),z&&(0,n.jsx)("div",{className:"absolute inset-0 bg-black/10 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:(0,n.jsx)(c.$,{size:"sm",variant:"secondary",className:"bg-white/90 hover:bg-white","aria-label":"Watch now",onClick:e=>{e.stopPropagation(),U.push("/player?v=".concat(t))},children:"Watch Now"})}),z&&(0,n.jsx)("div",{className:"absolute top-2 right-2",children:(0,n.jsxs)(u.rI,{children:[(0,n.jsx)(u.ty,{asChild:!0,children:(0,n.jsx)(c.$,{size:"sm",variant:"secondary",className:"h-8 w-8 p-0",children:(0,n.jsx)(h.A,{className:"h-4 w-4"})})}),(0,n.jsxs)(u.SQ,{align:"end",children:[(0,n.jsxs)(u._2,{onClick:L,children:[(0,n.jsx)(x.A,{className:"mr-2 h-4 w-4"}),"Add to playlist"]}),(0,n.jsxs)(u._2,{onClick:_,children:[(0,n.jsx)(p.A,{className:"mr-2 h-4 w-4"}),"Share"]}),(0,n.jsxs)(u._2,{children:[(0,n.jsx)(f.A,{className:"mr-2 h-4 w-4"}),"Save for later"]})]})]})})]}),(0,n.jsx)("div",{className:"p-4",children:(0,n.jsxs)("div",{className:"flex gap-3",children:[(0,n.jsx)("button",{onClick:R,className:"flex-shrink-0 hover:opacity-80 transition-opacity",children:(0,n.jsxs)(o.eu,{className:"h-9 w-9",children:[(0,n.jsx)(o.BK,{src:r.avatar,alt:r.name}),(0,n.jsx)(o.q5,{className:"text-xs",children:r.name.charAt(0)})]})}),(0,n.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,n.jsx)("h3",{className:"font-medium line-clamp-2 text-sm leading-snug mb-1 cursor-pointer hover:text-destructive transition-colors",onClick:S,children:s}),(0,n.jsxs)("button",{onClick:R,className:"text-xs text-muted-foreground hover:text-foreground transition-colors mb-1",children:[r.name,r.isVerified&&(0,n.jsx)("span",{className:"ml-1 text-blue-500",children:"✓"})]}),(0,n.jsxs)("div",{className:"flex items-center text-xs text-muted-foreground mb-2",children:[(0,n.jsx)(g.A,{className:"h-3 w-3 mr-1"}),(0,n.jsxs)("span",{children:[j," views"]}),(0,n.jsx)("span",{className:"mx-1",children:"•"}),(0,n.jsx)("span",{children:w})]}),(0,n.jsxs)("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[(0,n.jsxs)("div",{className:"flex items-center gap-1",children:[(0,n.jsx)(v.A,{className:"h-3 w-3"}),(0,n.jsx)("span",{children:A>0?A:""})]}),(0,n.jsxs)("div",{className:"flex items-center gap-1",children:[(0,n.jsx)(b.A,{className:"h-3 w-3"}),(0,n.jsx)("span",{children:C>0?C:""})]})]}),E.length>0&&(0,n.jsxs)("div",{className:"flex flex-wrap gap-1 mt-2",children:[E.slice(0,3).map((e,t)=>(0,n.jsxs)(d.E,{variant:"outline",className:"text-xs px-1 py-0",children:["#",e]},t)),E.length>3&&(0,n.jsxs)("span",{className:"text-xs text-muted-foreground",children:["+",E.length-3]})]})]})]})})]})}var w=s(1486);function N(e){let{className:t,...s}=e;return(0,n.jsx)("div",{"data-slot":"skeleton",className:(0,w.cn)("bg-accent animate-pulse rounded-md",t),...s})}var y=s(5525),k=s(1539),A=s(5339),C=s(9509);let E="https://origin-backend-misty-shape-4040.fly.dev".replace(/\/$/,"")||(null==(a=C.env.NEXT_PUBLIC_BACKEND_URL)?void 0:a.replace(/\/$/,""))||"https://originvideo.duckdns.org";var S=s(9509);let R="https://origin-backend-misty-shape-4040.fly.dev".replace(/\/$/,"")||(null==(r=S.env.NEXT_PUBLIC_BACKEND_URL)?void 0:r.replace(/\/$/,""))||"https://originvideo.duckdns.org";function L(e){var t;let{searchQuery:s,section:a="home",onVideoClick:r,useRecommendations:o=!1}=e,u=(0,l.useRouter)(),{recommendations:h,loading:x,error:p}=function(e,t){let[s,a]=(0,i.useState)([]),[r,n]=(0,i.useState)(!1),[l,o]=(0,i.useState)(null);return(0,i.useEffect)(()=>{(async()=>{n(!0),o(null);try{let t=new URLSearchParams;e&&t.set("algorithm",e),t.set("limit","20");let s=await fetch("".concat(E,"/recommendations?").concat(t),{credentials:"include"});if(!s.ok){if(401===s.status)return void n(!1);throw Error("Failed to fetch recommendations: ".concat(s.status))}let r=await s.json();a(r)}catch(e){console.error("Error fetching recommendations:",e),o(e instanceof Error?e.message:"Failed to fetch recommendations")}finally{n(!1)}})()},[e,void 0]),{recommendations:s,loading:r,error:l}}("home"===a&&o?"mixed":void 0),[f,g]=(0,i.useState)([]),[v,b]=(0,i.useState)(!0),[w,C]=(0,i.useState)(!1),[S,L]=(0,i.useState)(1),[z,$]=(0,i.useState)(null),U=(0,i.useRef)(null),T=e=>{var t,s,a,r,n,i,l;return{id:e.id,title:e.title,thumbnail:e.thumbnailUrl,creator:{name:null!=(r=null==(t=e.channel)?void 0:t.name)?r:"Unknown",avatar:null==(s=e.channel)?void 0:s.avatarUrl,isVerified:!!(null==(a=e.channel)?void 0:a.verified)},views:(l=e.views)||0===l?l<1e3?String(l):l<1e6?"".concat((l/1e3).toFixed(1).replace(/\.0$/,""),"K"):l<1e9?"".concat((l/1e6).toFixed(1).replace(/\.0$/,""),"M"):"".concat((l/1e9).toFixed(1).replace(/\.0$/,""),"B"):"—",uploadTime:function(e){if(!e)return"unknown";let t=new Date(e).getTime(),s=Math.floor(Math.max(0,Date.now()-t)/6e4);if(s<60)return"".concat(s," min ago");let a=Math.floor(s/60);if(a<24)return"".concat(a," hour").concat(a>1?"s":""," ago");let r=Math.floor(a/24);if(r<30)return"".concat(r," day").concat(r>1?"s":""," ago");let n=Math.floor(r/30);if(n<12)return"".concat(n," mo ago");let i=Math.floor(n/12);return"".concat(i," yr").concat(i>1?"s":""," ago")}(e.publishedAt),duration:null!=(n=e.duration)?n:"0:00",isRebelContent:"boolean"==typeof e.isRebelContent?e.isRebelContent:function(e){if(!(null==e?void 0:e.length))return!1;let t=["rebel","banned","censorship","underground","anti-corporate","truth"];return e.some(e=>t.includes(e.toLowerCase()))}(e.tags),tags:null!=(i=e.tags)?i:[]}},B=(0,i.useMemo)(()=>{let e=new URLSearchParams;return s&&e.set("q",s),a&&"home"!==a&&e.set("section",a),e.set("page",String(S)),e.set("limit","24"),"".concat(R,"/videos?").concat(e.toString())},[s,a,S]);(0,i.useEffect)(()=>{b(!0),$(null),L(1)},[a,s]),(0,i.useEffect)(()=>{var e;if("home"===a&&o&&h.length>0){g(h.map(T)),b(!1),$(null);return}null==(e=U.current)||e.abort();let t=new AbortController;return U.current=t,(async()=>{try{let e=await fetch(B,{cache:"no-store",signal:t.signal});if(!e.ok){let t=await _(e);$("Failed to load videos (".concat(e.status," ").concat(e.statusText,")").concat(t?" – ".concat(t):"")),1===S&&g([]);return}let s=(await e.json()).map(T);g(e=>1===S?s:[...e,...s]),$(null)}catch(t){let e=t instanceof Error?t:Error("Unknown error");"name"in e&&"AbortError"!==e.name&&(console.error(e),$("Network error while loading videos."),1===S&&g([]))}finally{b(!1),C(!1)}})(),()=>t.abort()},[B,S,a,o,h]);let M={home:{title:"Home",subtitle:"Videos curated for rebels like you"},trending:{title:"Trending",subtitle:"What's hot on Origin right now"},"rebel-trending":{title:"Rebel Trending",subtitle:"The most rebellious content of the moment",icon:m.A,isRebel:!0},"banned-elsewhere":{title:"Banned Elsewhere",subtitle:"Content censored by corporate platforms",icon:y.A,isRebel:!0},underground:{title:"Underground",subtitle:"Hidden gems from independent creators",icon:k.A,isRebel:!0},"anti-corporate":{title:"Anti-Corporate",subtitle:"Fighting back against the system",icon:A.A,isRebel:!0},search:{title:"Search",subtitle:"Results that match your query"}},D=null!=(t=M[a])?t:M.home,O=D.icon;return v&&1===S?(0,n.jsxs)("div",{className:"p-6",children:[(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsx)(N,{className:"mb-2 h-8 w-64"}),(0,n.jsx)(N,{className:"h-4 w-96"})]}),(0,n.jsx)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",children:Array.from({length:12}).map((e,t)=>(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsx)(N,{className:"aspect-video w-full"}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(N,{className:"h-4 w-full"}),(0,n.jsx)(N,{className:"h-4 w-3/4"}),(0,n.jsx)(N,{className:"h-4 w-1/2"})]})]},t))})]}):(0,n.jsxs)("div",{className:"p-6",children:[(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsxs)("div",{className:"mb-2 flex items-center gap-3",children:[O&&(0,n.jsx)(O,{className:"h-6 w-6 ".concat(D.isRebel?"text-destructive":"")}),(0,n.jsx)("h1",{className:"text-2xl font-bold ".concat(D.isRebel?"text-destructive":""),children:D.title}),D.isRebel&&(0,n.jsx)(d.E,{variant:"destructive",className:"rebel-glow",children:"REBEL ZONE"})]}),(0,n.jsx)("p",{className:"text-muted-foreground",children:D.subtitle})]}),z&&(0,n.jsxs)("div",{className:"mb-4 flex items-start gap-2 rounded-lg border border-red-200 bg-red-50 p-3 text-sm text-red-800",children:[(0,n.jsx)(A.A,{className:"mt-0.5 h-4 w-4"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"font-medium",children:"Couldn’t load videos"}),(0,n.jsx)("p",{className:"opacity-80",children:z})]})]}),s&&(0,n.jsx)("div",{className:"mb-4 rounded-lg bg-muted/50 p-4",children:(0,n.jsxs)("p",{children:["Showing results for: ",(0,n.jsxs)("strong",{children:['"',s,'"']}),f.length>0&&(0,n.jsxs)("span",{className:"text-muted-foreground",children:[" ","(",f.length," videos loaded)"]})]})}),0!==f.length||v||z?null:(0,n.jsxs)("div",{className:"py-12 text-center",children:[(0,n.jsx)(A.A,{className:"mx-auto mb-4 h-12 w-12 text-muted-foreground"}),(0,n.jsx)("h3",{className:"mb-2 text-lg font-semibold",children:"No videos found"}),(0,n.jsx)("p",{className:"text-muted-foreground",children:s?'No results for "'.concat(s,'". Try different keywords.'):"No videos available yet."})]}),f.length>0&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"mb-8 grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",children:f.map(e=>(0,n.jsx)(j,{id:e.id,title:e.title,creator:e.creator,thumbnail:e.thumbnail,duration:e.duration,views:e.views,uploadTime:e.uploadTime,isRebelContent:!!e.isRebelContent,onClick:()=>r?r(e.id):u.push("/watch/".concat(e.id))},e.id))}),(0,n.jsx)("div",{className:"text-center",children:(0,n.jsx)(c.$,{onClick:()=>{C(!0),L(e=>e+1)},disabled:w,variant:"outline",size:"lg",children:w?"Loading more…":"Load More Videos"})})]})]})}async function _(e){try{return await e.text()}catch(e){return""}}},5423:(e,t,s)=>{s.d(t,{p:()=>n});var a=s(5155);s(2115);var r=s(1486);function n(e){let{className:t,type:s,...n}=e;return(0,a.jsx)("input",{type:s,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}},5694:(e,t,s)=>{s.d(t,{w:()=>i});var a=s(5155);s(2115);var r=s(7489),n=s(1486);function i(e){let{className:t,orientation:s="horizontal",decorative:i=!0,...l}=e;return(0,a.jsx)(r.b,{"data-slot":"separator-root",decorative:i,orientation:s,className:(0,n.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...l})}},6010:(e,t,s)=>{s.d(t,{SQ:()=>o,_2:()=>d,rI:()=>i,ty:()=>l});var a=s(5155);s(2115);var r=s(7432),n=s(1486);function i(e){let{...t}=e;return(0,a.jsx)(r.bL,{"data-slot":"dropdown-menu",...t})}function l(e){let{...t}=e;return(0,a.jsx)(r.l9,{"data-slot":"dropdown-menu-trigger",...t})}function o(e){let{className:t,sideOffset:s=4,...i}=e;return(0,a.jsx)(r.ZL,{children:(0,a.jsx)(r.UC,{"data-slot":"dropdown-menu-content",sideOffset:s,className:(0,n.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...i})})}function d(e){let{className:t,inset:s,variant:i="default",...l}=e;return(0,a.jsx)(r.q7,{"data-slot":"dropdown-menu-item","data-inset":s,"data-variant":i,className:(0,n.cn)("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...l})}},6616:(e,t,s)=>{s.d(t,{Sidebar:()=>L});var a=s(5155),r=s(2115),n=s(7340),i=s(3109),l=s(7580),o=s(4186),d=s(333),c=s(5456),u=s(5607),m=s(5525),h=s(1539),x=s(8313),p=s(227),f=s(7631),g=s(5040),v=s(3127),b=s(6474),j=s(3052),w=s(4416),N=s(381),y=s(9273),k=s(322),A=s(5694),C=s(7655),E=s(1486);function S(e){let{className:t,children:s,...r}=e;return(0,a.jsxs)(C.bL,{"data-slot":"scroll-area",className:(0,E.cn)("relative",t),...r,children:[(0,a.jsx)(C.LM,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:s}),(0,a.jsx)(R,{}),(0,a.jsx)(C.OK,{})]})}function R(e){let{className:t,orientation:s="vertical",...r}=e;return(0,a.jsx)(C.VM,{"data-slot":"scroll-area-scrollbar",orientation:s,className:(0,E.cn)("flex touch-none p-px transition-colors select-none","vertical"===s&&"h-full w-2.5 border-l border-l-transparent","horizontal"===s&&"h-2.5 flex-col border-t border-t-transparent",t),...r,children:(0,a.jsx)(C.lr,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}function L(e){let{isOpen:t,isAuthenticated:s=!1,onNavigate:C,currentSection:E="home",onClose:R,openerRef:L}=e,_=function(){let[e,t]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let e=()=>t(window.innerWidth<768);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),e}(),z=(0,r.useRef)(null),$=(0,r.useRef)(null),U=(0,r.useRef)(null),[T,B]=(0,r.useState)({rebelZone:!0,categories:!1,library:s});(0,r.useEffect)(()=>{try{let e=localStorage.getItem("origin:sidebar:expanded");e&&B(JSON.parse(e))}catch(e){}},[]),(0,r.useEffect)(()=>{try{localStorage.setItem("origin:sidebar:expanded",JSON.stringify(T))}catch(e){}},[T]),(0,r.useEffect)(()=>{if(!_)return;let e=document.body.style.overflow;return document.body.style.overflow=t?"hidden":e||"unset",()=>{document.body.style.overflow=e||"unset"}},[_,t]),(0,r.useEffect)(()=>{if(!_||!t)return;let e=e=>{z.current&&(z.current.contains(e.target)||null==R||R())};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[_,t,R]),(0,r.useEffect)(()=>{if(!_||!t)return;let e=e=>{"Escape"===e.key&&(null==R||R())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[_,t,R]),(0,r.useEffect)(()=>{var e,s,a,r;if(_)if(t){U.current=null!=(e=document.activeElement)?e:null,setTimeout(()=>{var e;return null==(e=$.current)?void 0:e.focus()},0);let t=e=>{if("Tab"!==e.key||!z.current)return;let t=z.current.querySelectorAll('button, [href], [tabindex]:not([tabindex="-1"])');if(0===t.length)return;let s=t[0],a=t[t.length-1];e.shiftKey&&document.activeElement===s?(e.preventDefault(),a.focus()):e.shiftKey||document.activeElement!==a||(e.preventDefault(),s.focus())};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)}else null==(a=null!=(r=null==L?void 0:L.current)?r:U.current)||null==(s=a.focus)||s.call(a)},[_,t,L]),(0,r.useEffect)(()=>{if(!_||!t||!z.current)return;let e=z.current,s=0,a=0,r=e=>{s=e.touches[0].clientX,a=0},n=t=>{(a=t.touches[0].clientX-s)<0&&(e.style.transform="translateX(".concat(a,"px)"),e.style.opacity="".concat(Math.max(.3,1+a/300)))},i=()=>{a<-80&&(null==R||R()),e.style.transform="",e.style.opacity=""};return e.addEventListener("touchstart",r,{passive:!0}),e.addEventListener("touchmove",n,{passive:!0}),e.addEventListener("touchend",i),()=>{e.removeEventListener("touchstart",r),e.removeEventListener("touchmove",n),e.removeEventListener("touchend",i)}},[_,t,R]);let M=(0,r.useMemo)(()=>[{items:[{id:"home",label:"Home",icon:n.A},{id:"trending",label:"Trending",icon:i.A,badge:"HOT"},{id:"subscriptions",label:"Subscriptions",icon:l.A,count:s?12:void 0}]}],[s]),D=s?[{title:"Library",isCollapsible:!0,items:[{id:"history",label:"History",icon:o.A},{id:"liked",label:"Liked videos",icon:d.A},{id:"playlists",label:"Playlists",icon:c.A,count:8},{id:"watchlater",label:"Watch later",icon:o.A,count:23}]}]:[],O=[{title:"Rebel Zone",isCollapsible:!0,items:[{id:"rebel-trending",label:"Rebel Trending",icon:u.A,isRebel:!0,badge:"NEW"},{id:"banned-elsewhere",label:"Banned Elsewhere",icon:m.A,isRebel:!0},{id:"underground",label:"Underground",icon:h.A,isRebel:!0},{id:"anti-corporate",label:"Anti-Corporate",icon:x.A,isRebel:!0}]}],P=[{title:"Categories",isCollapsible:!0,items:[{id:"music",label:"Music",icon:p.A},{id:"gaming",label:"Gaming",icon:f.A},{id:"education",label:"Education",icon:g.A},{id:"tech",label:"Technology",icon:x.A},{id:"art",label:"Art & Design",icon:v.A}]}],F=(0,r.useRef)(null),I=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=E===e.id,r=e.icon;return(0,a.jsxs)(y.$,{ref:t?$:void 0,role:"menuitem",tabIndex:0,variant:s?"secondary":"ghost",className:"w-full justify-start h-10 px-3 transition-all duration-200 ".concat(s?"bg-secondary shadow-sm":""," ").concat(e.isRebel?"hover:bg-destructive/10 hover:shadow-md":"hover:shadow-sm"),onClick:()=>{var t;return t=e.id,void(null==C||C(t),_&&(null==R||R()))},"aria-current":s?"page":void 0,title:e.label,children:[(0,a.jsx)(r,{className:"h-5 w-5 mr-3 transition-colors ".concat(e.isRebel?"text-destructive":"")}),(0,a.jsx)("span",{className:"flex-1 text-left transition-colors ".concat(e.isRebel?"text-destructive font-medium":""),children:e.label}),e.badge&&(0,a.jsx)(k.E,{variant:e.isRebel?"destructive":"secondary",className:"ml-2 text-xs px-1 py-0 transition-all",children:e.badge}),e.count&&(0,a.jsx)("span",{className:"ml-2 text-xs text-muted-foreground transition-colors",children:e.count})]},e.id)},J=(e,t)=>{let s=T[t],r="section-".concat(t);return(0,a.jsxs)("div",{className:"mb-4",children:[e.title&&(0,a.jsx)("div",{className:"px-3 mb-2",children:e.isCollapsible?(0,a.jsxs)(y.$,{variant:"ghost",className:"w-full justify-start h-8 px-0 text-xs font-medium text-muted-foreground hover:text-foreground",onClick:()=>B(e=>({...e,[t]:!e[t]})),"aria-expanded":s,"aria-controls":"".concat(r,"-panel"),children:[s?(0,a.jsx)(b.A,{className:"h-4 w-4 mr-2"}):(0,a.jsx)(j.A,{className:"h-4 w-4 mr-2"}),e.title.toUpperCase()]}):(0,a.jsx)("h3",{id:r,className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:e.title})}),(0,a.jsx)("div",{id:"".concat(r,"-panel"),hidden:!!e.isCollapsible&&!s,"aria-labelledby":e.isCollapsible?r:void 0,children:(0,a.jsx)("div",{className:"space-y-1",children:e.items.map((e,s)=>I(e,"main"===t&&0===s))})}),e.title&&(0,a.jsx)(A.w,{className:"mt-4"})]},t)};return _&&!t?null:(0,a.jsxs)(a.Fragment,{children:[_&&t&&(0,a.jsx)("div",{className:"fixed inset-0 z-40 bg-black/50 backdrop-blur-[2px] md:hidden motion-safe:transition-opacity",onClick:R,"aria-hidden":"true"}),(0,a.jsxs)("aside",{ref:z,className:[_?"fixed top-0 z-50 h-screen":"sticky top-16 z-10 h-[calc(100vh-4rem)]","w-64 border-r bg-white motion-safe:transition-all motion-safe:duration-300",_?t?"translate-x-0 opacity-100":"-translate-x-full opacity-0":"translate-x-0 opacity-100",_?"shadow-2xl":"shadow-sm"].join(" "),role:_?"dialog":"navigation","aria-modal":!!_||void 0,"aria-label":"Main navigation",children:[_&&(0,a.jsxs)("div",{className:"flex items-center justify-between border-b px-4 py-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"origin-gradient rebel-glow flex h-8 w-8 items-center justify-center rounded-lg",children:(0,a.jsx)("span",{className:"text-sm font-bold text-white",children:"O"})}),(0,a.jsx)("span",{className:"text-lg font-bold",children:"Origin"})]}),(0,a.jsx)(y.$,{ref:$,variant:"ghost",size:"sm",onClick:R,className:"h-8 w-8 p-0 hover:bg-destructive/10 hover:text-destructive","aria-label":"Close sidebar",children:(0,a.jsx)(w.A,{className:"h-4 w-4"})})]}),(0,a.jsx)(S,{className:_?"h-[calc(100vh-3.25rem)]":"h-full",children:(0,a.jsxs)("nav",{ref:F,onKeyDown:e=>{if(!F.current)return;let t=F.current.querySelectorAll("button[role='menuitem']");if(0===t.length)return;let s=Array.from(t).findIndex(e=>e===document.activeElement);if("ArrowDown"===e.key){e.preventDefault();let a=t[(s+1+t.length)%t.length];null==a||a.focus()}else if("ArrowUp"===e.key){e.preventDefault();let a=t[(s-1+t.length)%t.length];null==a||a.focus()}},className:"p-4","aria-label":"Primary",children:[J(M[0],"main"),s&&D.length>0&&J(D[0],"library"),J(O[0],"rebelZone"),J(P[0],"categories"),(0,a.jsxs)("div",{className:"mt-8 border-t pt-4",children:[(0,a.jsxs)(y.$,{variant:"ghost",className:"h-10 w-full justify-start px-3",role:"menuitem",tabIndex:0,children:[(0,a.jsx)(N.A,{className:"mr-3 h-5 w-5"}),"Settings"]}),(0,a.jsxs)("div",{className:"mt-4 px-3 text-xs text-muted-foreground",children:[(0,a.jsx)("p",{children:"\xa9 2025 Origin Platform"}),(0,a.jsx)("p",{children:"Ad-free • Creator-focused • Rebellion-powered"})]})]})]})})]})]})}},9273:(e,t,s)=>{s.d(t,{$:()=>d});var a=s(5155),r=s(2115),n=s(9708),i=s(2085),l=s(1486);let o=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,t)=>{let{className:s,variant:r,size:i,asChild:d=!1,...c}=e,u=d?n.DX:"button";return(0,a.jsx)(u,{"data-slot":"button",className:(0,l.cn)(o({variant:r,size:i,className:s})),ref:t,...c})});d.displayName="Button"}}]);