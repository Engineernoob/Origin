# Production Environment Configuration
# This file contains example values for production environment variables
# Replace with your actual values in AWS Secrets Manager

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================
NODE_ENV=production
PORT=3000
API_HOST=0.0.0.0

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
DB_HOST=origin-postgres.c8ygabc12xyz.us-east-1.rds.amazonaws.com
DB_PORT=5432
DB_USER=postgres
DB_PASS=REPLACE_WITH_DATABASE_PASSWORD
DB_NAME=origin

# Database connection pool
DB_POOL_MIN=2
DB_POOL_MAX=20
DB_POOL_IDLE_TIMEOUTMillis=30000

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_HOST=origin-redis-cluster.abc12.clustercfg.use1.cache.amazonaws.com
REDIS_PORT=6379
REDIS_PASSWORD=REPLACE_WITH_REDIS_PASSWORD
REDIS_DB=0

# Connection pool
REDIS_POOL_MIN=5
REDIS_POOL_MAX=50
REDIS_POOL_RECONNECT_TIMEOUT=30000

# =============================================================================
# ELASTICSEARCH CONFIGURATION
# =============================================================================
ELASTICSEARCH_HOST=vpc-origin-opensearch-prod-abc123.us-east-1.es.amazonaws.com
ELASTICSEARCH_PORT=443
ELASTICSEARCH_PROTOCOL=https
ELASTICSEARCH_USERNAME=REPLACE_WITH_ES_USERNAME
ELASTICSEARCH_PASSWORD=REPLACE_WITH_ES_PASSWORD

# =============================================================================
# JWT CONFIGURATION
# =============================================================================
JWT_SECRET=REPLACE_WITH_LONG_RANDOM_SECRET_KEY_256+ characters
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d

# =============================================================================
# GOOGLE OAUTH CONFIGURATION
# =============================================================================
GOOGLE_CLIENT_ID=REPLACE_WITH_GOOGLE_CLIENT_ID
GOOGLE_CLIENT_SECRET=REPLACE_WITH_GOOGLE_CLIENT_SECRET
GOOGLE_CALLBACK_URL=https://api.origin.example.com/auth/google/callback

# =============================================================================
# AWS CONFIGURATION
# =============================================================================
AWS_ACCESS_KEY_ID=REPLACE_WITH_AWS_ACCESS_KEY
AWS_SECRET_ACCESS_KEY=REPLACE_WITH_AWS_SECRET_KEY
AWS_REGION=us-east-1

# S3 Buckets
S3_VIDEOS_BUCKET=origin-videos-prod
S3_THUMBNAILS_BUCKET=origin-thumbnails-prod
S3_BACKUP_BUCKET=origin-backups-prod
S3_LOGS_BUCKET=origin-logs-prod

# =============================================================================
# YOUTUBE API CONFIGURATION
# =============================================================================
YOUTUBE_API_KEY=AIzaSyREPLACE_WITH_YOUTUBE_API_KEY
YOUTUBE_QUOTA_LIMIT=10000
YOUTUBE_TRAINING_ENABLED=true

# =============================================================================
# MONITORING AND LOGGING
# =============================================================================
SENTRY_DSN=https://REPLACE_WITH_SENTRY_DSN@sentry.io/123456
LOG_LEVEL=info
LOG_FORMAT=json

# Prometheus metrics
METRICS_ENABLED=true
METRICS_PATH=/metrics
METRICS_PORT=9090

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
CORS_ORIGIN=https://origin.example.com
CORS_CREDENTIALS=true
CORS_METHODS=GET,POST,PUT,PATCH,DELETE,OPTIONS
CORS_HEADERS=Content-Type,Authorization,X-Requested-With

# Rate limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=1000
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false

# Helmet security headers
HELMET_ENABLED=true

# =============================================================================
# PERFORMANCE CONFIGURATION
# =============================================================================
# File uploads
MAX_FILE_SIZE=500MB
UPLOAD_PATH=/app/uploads
UPLOAD_MAX_MEMORY=50MB

# Video processing
VIDEO_PROCESSING_CONCURRENCY=4
THUMBNAIL_QUALITY=85
TRANSCODE_PRESET=medium

# Cache settings
DEFAULT_TTL=3600
CDN_TTL=86400
API_CACHE_TTL=300

# Connection limits
CONNECTION_LIMIT=10000
REQUEST_TIMEOUT=30000
KEEPALIVE_TIMEOUT=65000

# =============================================================================
# FEATURE FLAGS
# =============================================================================
ENABLE_ANALYTICS=true
ENABLE_LIVE_STREAMING=true
ENABLE_ADS=true
ENABLE_MODERATION=true
ENABLE_RECOMMENDATIONS=true
ENABLE_CONTENT_DELIVERY=true
ENABLE_UPLOADS=true
ENABLE_COMMENTS=true
ENABLE_SHARE=true
ENABLE_DOWNLOADS=false

# =============================================================================
# NOTIFICATION CONFIGURATION
# =============================================================================
# Email settings
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=notifications@origin.example.com
SMTP_PASS=REPLACE_WITH_SMTP_PASSWORD
SMTP_FROM=noreply@origin.example.com

# Push notifications
PUSH_NOTIFICATION_KEY=REPLACE_WITH_PUSH_KEY
PUSH_NOTIFICATION_SECRET=REPLACE_WITH_PUSH_SECRET

# Webhook notifications
WEBHOOK_URL=https://webhooks.example.com/origin-status

# =============================================================================
# PAYMENT CONFIGURATION
# =============================================================================
STRIPE_SECRET_KEY=sk_live_REPLACE_WITH_STRIPE_SECRET_KEY
STRIPE_PUBLISHABLE_KEY=pk_live_REPLACE_WITH_STRIPE_PUBLISHABLE_KEY
STRIPE_WEBHOOK_SECRET=whsec_REPLACE_WITH_WEBHOOK_SECRET

# =============================================================================
# CDN CONFIGURATION
# =============================================================================
CDN_URL=https://cdn.origin.example.com
CDN_DISTRIBUTION_ID=E123456789ABC
CDN_REGION=us-east-1

# =============================================================================
# FRONTEND CONFIGURATION (NEXT_PUBLIC_ variables)
# =============================================================================
NEXT_PUBLIC_API_URL=https://api.origin.example.com
NEXT_PUBLIC_FRONTEND_URL=https://origin.example.com
NEXT_PUBLIC_CDN_URL=https://cdn.origin.example.com
NEXT_PUBLIC_GOOGLE_CLIENT_ID=REPLACE_WITH_GOOGLE_CLIENT_ID
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_live_REPLACE_WITH_STRIPE_PUBLISHABLE_KEY

# Frontend feature flags
NEXT_PUBLIC_ENABLE_ANALYTICS=true
NEXT_PUBLIC_ENABLE_LIVE_STREAMING=true
NEXT_PUBLIC_ENABLE_UPLOADS=true
NEXT_PUBLIC_ENABLE_COMMENTS=true
NEXT_PUBLIC_ENABLE_SHARE=true

# UI/UX settings
NEXT_PUBLIC_THEME=dark
NEXT_PUBLIC_LANGUAGE=en
NEXT_PUBLIC_LOCALE=en-US
NEXT_PUBLIC_CACHE_DURATION=86400
NEXT_PUBLIC_IMAGE_QUALITY=85
NEXT_PUBLIC_LAZY_LOADING=true

# =============================================================================
# EXTERNAL SERVICE CONFIGURATION
# =============================================================================
# Content moderation
MODERATION_API_KEY=REPLACE_WITH_MODERATION_API_KEY
MODERATION_ENDPOINT=https://api.moderation.example.com

# Recommendation service
RECOMMENDATION_API_KEY=REPLACE_WITH_RECOMMENDATION_API_KEY
RECOMMENDATION_ENDPOINT=https://ml.recommendations.example.com

# Analytics service
ANALYTICS_API_KEY=REPLACE_WITH_ANALYTICS_API_KEY
ANALYTICS_ENDPOINT=https://api.analytics.example.com

# URL shortener
URL_SHORTENER_API_KEY=REPLACE_WITH_URL_SHORTENER_KEY
URL_SHORTENER_ENDPOINT=https://api.short.ly

# =============================================================================
# SLA AND PERFORMANCE TARGETS
# =============================================================================
# Define your SLA targets for monitoring
SLA_AVAILABILITY_TARGET=99.9
SLA_RESPONSE_TIME_TARGET=500
SLA_ERROR_RATE_TARGET=0.01

# Performance budget thresholds
PERF_BUNDLE_SIZE_LIMIT=500000
PERF_FIRST_CONTENTFUL_PAINT=2000
PERF_LARGEST_CONTENTFUL_PAINT=3500
PERF_CUMULATIVE_LAYOUT_SHIFT=0.1

# =============================================================================
# BUSINESS METRICS
# =============================================================================
# Define business critical metrics for alerting
BUSINESS_METRICS_USER_ENGAGEMENT_THRESHOLD=10
BUSINESS_METRICS_VIDEO_VIEWS_THRESHOLD=100
BUSINESS_METRICS_REVENUE_THRESHOLD=1000

# =============================================================================
# DEVELOPMENT AND DEBUGGING
# =============================================================================
# Debug flags (ensure these are false in production)
DEBUG_MODE=false
DEBUG_SQL=false
DEBUG_REDIS=false
DEBUG_ELASTICSEARCH=false

# Development tools (disabled in production)
SWAGGER_ENABLED=false
GRAPHQL_PLAYGROUND_ENABLED=false
HISTORY_API_FALLBACK=false

# =============================================================================
# LEGACY CONFIGURATION
# =============================================================================
# Keep these for backward compatibility but consider migration
LEGACY_UPLOAD_ENDPOINT=/api/upload
LEGACY_VIDEO_ENDPOINT=/api/videos
LEGACY_USER_ENDPOINT=/api/users
